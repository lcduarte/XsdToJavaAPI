\chapter{Deployment}
\label{cha:deployment}

\section{Github Organization} % (fold)
\label{sec:github}

This project and all its components belong to a github organization called \texttt{xmlet}\footnote{\href{https://github.com/xmlet}{xmlet Github}}. The aim of that organization is to contain all the related projects to this dissertation. All the generated \ac{API}s are also created as if they belong to this organization. 

\section{Maven} % (fold)
\label{sec:maven}

In order to manage the developed projects a tool for project organization and deployment was used, named Maven. Maven has the goal of organizing a project in many different ways, such as creating a standard of project building and managing project dependencies. Maven was also used to generate documentation and deploying the projects to a central code repository, Maven Central Repository\footnote{\href{https://search.maven.org/}{Maven Central Repository}}. All the releases of projects belonging to the \texttt{xmlet} Github organization can be found under the groupId, \href{https://search.maven.org/#search%7Cga%7C1%7Ccom.github.xmlet}{com.github.xmlet}. 

\section{Sonarcloud} % (fold)
\label{sec:sonarcloud}

Code quality and its various implications such as security, low performance and bugs should always be an important issue to a programmer. With that in mind all the projects contained in the \texttt{xmlet} solution were evaluated in various metrics and the results made public for consultation. This way, either future users of those projects or developers trying to improve the projects can check the metrics as another way of validating the quality of the produced code. The tool to perform this evaluation was Sonarcloud\footnote{\href{https://sonarcloud.io/organizations/xmlet/projects}{Sonarcloud xmlet page}}, which provides free of charge evaluations and stores the results which are available for everyone. Sonarcloud also provides an \ac{API} to show badges that allow to inform users of different metrics regarding a project. Those badges are presented in the \texttt{xmlet} modules Github pages, as shown in Figure \ref{project_badges}.

\begin{figure}[h]
	\centering
	\includegraphics[width=1\textwidth]{badges}
	\caption{XsdParser Github badges}
	\label{project_badges}
\end{figure}

\section{Testing metrics} % (fold)
\label{sec:testingmetrics}

To assert the performance of the \texttt{xmlet} solution we used the \ac{HTML}5 use case to compare it against the J2html (Section \ref{sec:j2html}) and Apache Velocity (Section \ref{sec:apachevelocity}), presented earlier. This two libraries have a difference that is crucial when dealing with performance, J2html doesn't indent the generated \ac{HTML} while Apache Velocity does it. In order to perform a fair comparison between solutions two Visitors were used with the \ac{HTML}5 solution, one that indents the \ac{HTML} to compare it with Velocity and other that doesn't indent it to compare it to J2html. The computer used to perform all the tests present in this section has the following specs:

Processor: Intel Core i3-3217U 1.80GHz\\
RAM: 4GB

\noindent
The tests that are presented below consist in the generation of a simple \ac{HTML} document, with a table and a variable amount of table entries as shown in Listing \ref{lst:testhtml}. 

\bigskip

\lstset{language=html}

\begin{minipage}{\linewidth}
\begin{lstlisting}[caption={Test HTML}, label={lst:testhtml}]
<html>
    <body>
        <table>
            <tr>
                <th>
                    Title
                </th>
            </tr>
            
            <!-- Repeated based on the number of elements -->
            <tr>
                <td>
                    ElemX
                </td>
            </tr>
            
        </table>
    </body>
</html>
\end{lstlisting}
\end{minipage}

The textual elements to feature in the table data rows are stored in the same data structure and each solution should iterate that structure when generating the expected \ac{HTML}. To assert which solution is the fastest each one of them will generate the same \ac{HTML} document and we will verify the number of iterations that are possible to perform in a certain unit of time. To achieve this objective we will use \ac{JMH}\footnote{\href{http://openjdk.java.net/projects/code-tools/jmh/}{JMH Website}}, which is a tool used for benchmarking. The values gathered are result of the mean values of 8 testing iterations after 12 iterations of warm up. 

\newpage

\begin{multicols}{2}
\begin{figure}[H]
\centering
\captionsetup{justification=centering}
\begin{tikzpicture}
    \begin{axis}[
        width  = 0.45*\textwidth,
        height = 7cm,
        major x tick style = transparent,
        ybar=2*\pgflinewidth,
        bar width=14pt,
        ymajorgrids = true,
        ylabel = {Nº of iterations/millisecond},
		symbolic x coords={Html, J2Html, HtmlIndent, Velocity},
        xticklabels = {},
        scaled y ticks = false,
        enlarge x limits=0.85,
        ymin=0,
        ymax=225,
        legend cell align=left,]
        
        \addplot[style={blue,fill=blue,mark=none}]
            coordinates {(Html, 170)};
        \addplot[style={red,fill=red,mark=none}]
             coordinates {(J2Html, 117)};
        \addplot[style={black,fill=black,mark=none}]
             coordinates {(HtmlIndent, 115)};
		\addplot[style={green,fill=green,mark=none}]
             coordinates {(Velocity, 65)};

        \legend{Html, J2html, HtmlIndent, Velocity}
    \end{axis}
\end{tikzpicture}
\caption{Benchmark: Generating an Html Table with 10 Elements}
\label{fig:graphbench10table}
\end{figure}

\columnbreak

\begin{figure}[H]
\centering
\captionsetup{justification=centering}
\begin{tikzpicture}
    \begin{axis}[
        width  = 0.45*\textwidth,
        height = 7cm,
        major x tick style = transparent,
        ybar=2*\pgflinewidth,
        bar width=14pt,
        ymajorgrids = true,
        ylabel = {Nº of iterations/millisecond},
		symbolic x coords={Html, J2Html, HtmlIndent, Velocity},
        xticklabels = {},
        scaled y ticks = false,
        enlarge x limits=0.85,
        ymin=0,
        ymax=31,
        legend cell align=left,]
        
		\addplot[style={blue,fill=blue,mark=none}]
            coordinates {(Html, 19)};
        \addplot[style={red,fill=red,mark=none}]
             coordinates {(J2Html, 16)};
        \addplot[style={black,fill=black,mark=none}]
             coordinates {(HtmlIndent, 15)};
		\addplot[style={green,fill=green,mark=none}]
             coordinates {(Velocity, 7)};

        \legend{Html, J2html, HtmlIndent, Velocity}
    \end{axis}
\end{tikzpicture}
\caption{Benchmark: Generating an Html Table with 100 Elements}
\label{fig:graphbench100table}
\end{figure}
\end{multicols}

%BenchmarkMain.htmlApiBenchmarkTableNoIndentation              10  thrpt    8  171915$712 ± 1822$305  ops/s
%BenchmarkMain.htmlApiBenchmarkTableNoIndentation             100  thrpt    8   19760$504 ±  560$734  ops/s
%BenchmarkMain.htmlApiBenchmarkTableNoIndentation            1000  thrpt    8    2008$911 ±   28$104  ops/s
%BenchmarkMain.htmlApiBenchmarkTableNoIndentation           10000  thrpt    8     241$873 ±    3$225  ops/s
%BenchmarkMain.htmlApiBenchmarkTableNoIndentation          100000  thrpt    8      22$169 ±    0$652  ops/s
%BenchmarkMain.j2htmlBenchmark                                 10  thrpt    8  114187$062 ± 1852$635  ops/s
%BenchmarkMain.j2htmlBenchmark                                100  thrpt    8   16572$066 ±  174$217  ops/s
%BenchmarkMain.j2htmlBenchmark                               1000  thrpt    8    1787$735 ±   27$369  ops/s
%BenchmarkMain.j2htmlBenchmark                              10000  thrpt    8     194$768 ±    2$181  ops/s
%BenchmarkMain.j2htmlBenchmark                             100000  thrpt    8      17$708 ±    0$793  ops/s

\begin{multicols}{2}
\begin{figure}[H]
\centering
\captionsetup{justification=centering}
\begin{tikzpicture}
    \begin{axis}[
        width  = 0.45*\textwidth,
        height = 7cm,
        major x tick style = transparent,
        ybar=2*\pgflinewidth,
        bar width=14pt,
        ymajorgrids = true,
        ylabel = {Nº of iterations/second},
		symbolic x coords={Html, J2Html, HtmlIndent, Velocity},
        xticklabels = {},
        scaled y ticks = false,
        enlarge x limits=0.85,
        ymin=0,
        ymax=3500,
        legend cell align=left,
    ]
		\addplot[style={blue,fill=blue,mark=none}]
            coordinates {(Html, 2008)};
        \addplot[style={red,fill=red,mark=none}]
             coordinates {(J2Html, 1787)};
        \addplot[style={black,fill=black,mark=none}]
             coordinates {(HtmlIndent, 1515)};
		\addplot[style={green,fill=green,mark=none}]
             coordinates {(Velocity, 781)};   

        \legend{Html, J2html, HtmlIndent, Velocity}
    \end{axis}
\end{tikzpicture}
\caption{Benchmark: Generating an Html Table with 1.000 Elements}
\label{fig:graphbench1000table}
\end{figure}

\columnbreak

\begin{figure}[H]
\centering
\captionsetup{justification=centering}
\begin{tikzpicture}
    \begin{axis}[
        width  = 0.45*\textwidth,
        height = 7cm,
        major x tick style = transparent,
        ybar=2*\pgflinewidth,
        bar width=14pt,
        ymajorgrids = true,
        ylabel = {Nº of iterations/second},
		symbolic x coords={Html, J2Html, HtmlIndent, Velocity},
        xticklabels = {},
        scaled y ticks = false,
        enlarge x limits=0.85,
        ymin=0,
        ymax=375,
        legend cell align=left,]

		\addplot[style={blue,fill=blue,mark=none}]
            coordinates {(Html, 241)};
        \addplot[style={red,fill=red,mark=none}]
             coordinates {(J2Html, 194)};
        \addplot[style={black,fill=black,mark=none}]
             coordinates {(HtmlIndent, 152)};
		\addplot[style={green,fill=green,mark=none}]
             coordinates {(Velocity, 73)};      
             
        \legend{Html, J2html, HtmlIndent, Velocity}
    \end{axis}
\end{tikzpicture}
\caption{Benchmark: Generating an Html Table with 10.000 Elements}
\label{fig:graphbench10000table}
\end{figure}
\end{multicols}

%Benchmark                            (elementCount)   Mode  Cnt       Score      Error  Units
%BenchmarkMain.htmlApiBenchmarkTable              10  thrpt    8  115288$479 ± 3165$561  ops/s
%BenchmarkMain.htmlApiBenchmarkTable             100  thrpt    8   15434$480 ±  214$479  ops/s
%BenchmarkMain.htmlApiBenchmarkTable            1000  thrpt    8    1515$100 ±   35$935  ops/s
%BenchmarkMain.htmlApiBenchmarkTable           10000  thrpt    8     152$280 ±    1$940  ops/s
%BenchmarkMain.velocityBenchmark                  10  thrpt    8   65338$534 ± 1238$090  ops/s
%BenchmarkMain.velocityBenchmark                 100  thrpt    8    7586$455 ±  192$201  ops/s
%BenchmarkMain.velocityBenchmark                1000  thrpt    8     781$837 ±   16$412  ops/s
%BenchmarkMain.velocityBenchmark               10000  thrpt    8      73$138 ±    3$134  ops/s

\noindent
As we can see by the presented results the HtmlApi outperforms the other solutions, either with few elements or with a large number of elements. 

\subsection{Spring benchmark}
\label{sec:springbenchmark}

To assert that the results obtained through the previous benchmark weren't in any way biased in favor of the \texttt{HtmlApi} we performed another benchmark. This second benchmark was performed by using a preexisting project that compares ten different template engines. To give some insight about each of the template engines used in this benchmark project we have Table \ref{tab:templateengines} which enumerates the functionalities that each template engine provides. From this table we can observe that all these solutions being compared provide similar features. 

\begin{table}[H]
\begin{tabular}{|c|c|c|c|c|c|c|}
\hline
Name & Variables & Functions & Loops & Includes & Exceptions & Hierarchy \\ \hline
\href{http://jade-lang.com/}{Jade}                                                     & \Checkmark &  & \Checkmark &  &  & \Checkmark \\ \hline
\href{https://mustache.github.io/}{Mustache}                                           & \Checkmark & \Checkmark & \Checkmark & \Checkmark & \Checkmark &  \\ \hline
\href{http://www.mitchellbosecke.com/pebble/home}{Pebble}                              & \Checkmark & \Checkmark & \Checkmark & \Checkmark & \Checkmark & \Checkmark \\ \hline
\href{http://velocity.apache.org/}{Velocity}                                           & \Checkmark & \Checkmark & \Checkmark & \Checkmark & \Checkmark & \XSolid \\ \hline
\href{http://www.x5software.com/chunk/examples/ChunkExample}{Chunk}                    & \Checkmark & \Checkmark & \Checkmark & \Checkmark & \Checkmark & \Checkmark \\ \hline
\href{http://www.oracle.com/technetwork/java/index-jsp-138231.html}{JSP} & \Checkmark & \Checkmark & \Checkmark & \Checkmark & \Checkmark &  \\ \hline
\href{http://jtwig.org/}{Jtwig}                                                        &  &  &  &  &  &  \\ \hline
\href{https://freemarker.apache.org/}{FreeMarker}                                       & \Checkmark & \Checkmark & \Checkmark & \Checkmark & \Checkmark & \Checkmark \\ \hline
\href{https://www.thymeleaf.org/}{Thymeleaf}                                           & \Checkmark & \Checkmark & \Checkmark & \Checkmark & \Checkmark & \Checkmark \\ \hline
\href{https://handlebarsjs.com/}{Handlebars}                                           & \Checkmark & \Checkmark & \Checkmark & \Checkmark & \Checkmark & \XSolid \\ \hline
\end{tabular}
\caption{\label{tab:templateengines} Template Engines Functionality Comparison}
\end{table}

\noindent
The project used to perform this benchmark, named spring-comparing-template-engines \footnote{\href{https://github.com/jreijn/spring-comparing-template-engines}{Template Engines Benchmark}}, uses a tomcat server\footnote{\href{http://tomcat.apache.org/}{Apache Tomcat}} to launch a WebApi based on the Java Spring\footnote{\href{https://spring.io/}{Java Spring}} framework. This WebApi provides routes for each solution to test, e.g. http://localhost:8080/mustache, which returns a standard \ac{HTML} page based in two distinct aspects. 

\begin{itemize}
	\item Template - Each solution under benchmark defines the same template, in their own syntax. An example is the Mustache template in Listing \ref{lst:mustachespringtemplate}.
	\item Data - A \texttt{List} of \texttt{Presentation} objects (Listing \ref{lst:presentationobject}), which all the solutions receive to complete their templates.
\end{itemize}

\lstset{
	language=html,
	morekeywords={encoding, xsd:schema, xmlns, xmlns:xsd, xsd:group, xsd:choice, id, name,  ref}
}

\begin{minipage}{\linewidth}
\begin{lstlisting}[caption={Spring Benchmark Mustache Template},captionpos=b,label={lst:mustachespringtemplate}]
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
        <title>{{#i18n}}example.title{{/i18n}} - Mustache</title>
        <link rel="stylesheet" href="{{rc.contextPath}}/webjars/bootstrap/3.3.7-1/css/bootstrap.min.css"/>
    </head>
    <body>
        <div class="container">
            <div class="page-header">
                <h1>{{#i18n}}example.title{{/i18n}} - Mustache</h1>
            </div>
            {{#presentations}}
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">{{title}} - {{speakerName}}</h3>
                    </div>
                    <div class="panel-body">
                        {{{summary}}}
                    </div>
                </div>
            {{/presentations}}
        </div>
        <script src="{{rc.contextPath}}/webjars/jquery/3.1.1/jquery.min.js"></script>
        <script src="{{rc.contextPath}}/webjars/bootstrap/3.3.7-1/js/bootstrap.min.js"></script>
    </body>
</html>
\end{lstlisting}
\end{minipage}

\lstset{
	language=Java,
	morekeywords={Long, String, Date}
}

\begin{minipage}{\linewidth}
\begin{lstlisting}[caption={Spring Benchmark Presentation Object},captionpos=b,label={lst:presentationobject}]
public class Presentation {
    private Long id;
    private String title;
    private String speakerName;
    private String summary;
    private String room;
    private Date startTime;
    private Date endTime;
}
\end{lstlisting}
\end{minipage}

\noindent
Since all the different solutions used in this \ac{API} generate the same \ac{HTML} document using the same information we can evaluate which solution is faster. To incorporate the \texttt{HtmlApi} solution in this WebApi we registered another entry in Spring settings and defined the same template as the other solutions. 

\noindent
After setting the Spring project with our solution we need to introduce other tool, the ApacheBench\footnote{\href{https://httpd.apache.org/docs/2.4/programs/ab.html}{ApacheBench}}. This tool is used to flood a given \ac{URL} with requests and measures how much time it takes for the server to respond to those requests. The goal is to flood every route with a set number of requests and evaluate the time that each solution needs to respond to the same number of requests, effectively measuring each solution performances. As a last step we also evaluated the overhead that the Spring framework introduces in this process by creating a route that returns an empty answer. By obtaining this overhead value we can subtract it to the results obtained in each benchmark route in order to exclusively compare the time that the respective solution needs to generate their response. 

\noindent
The benchmark values presented below are the result of a single iteration after running two warm up iterations. Multiple variants were used to test the template engines and the HtmlApi solution. The presented results are obtained after running the specified benchmark and \textit{removing} the Spring overhead.

\newpage

10.000 requests using 10 threads with a Spring overhead of 1.031 seconds:

\begin{figure}[H]
\centering
\captionsetup{justification=centering}
\begin{tikzpicture}
    \begin{axis}[
        width  = 1*\textwidth,
        height = 8cm,
        major x tick style = transparent,
        ybar=1*\pgflinewidth,
        bar width=10pt,
        ymajorgrids = true,
        ylabel = {Response time in s},
		symbolic x coords={htmlApi,jade,mustache,pebble,velocity,chunk,jsp,jtwig,freemarker,thymeleaf,handlebars, dummy1, dummy2, dummy3},
        %xtick = data,
        xticklabels = {},
        scaled y ticks = false,
        enlarge x limits=0.8,
        ymin=1,
        ymax=3,
        legend cell align=left,]
                
        \addplot[style={blue,fill=blue,mark=none}]
            coordinates {(htmlApi, 1.547)};
        \addplot[style={olive,fill=olive,mark=none}]
            coordinates {(jade, 1.719)};
        \addplot[style={green,fill=green,mark=none}]
            coordinates {(mustache, 2.158)};
        \addplot[style={gray,fill=gray,mark=none}]
            coordinates {(pebble, 2.235)};
        \addplot[style={brown,fill=brown,mark=none}]
            coordinates {(velocity, 2.266)};
        \addplot[style={yellow,fill=yellow,mark=none}]
            coordinates {(chunk, 2.282)};
        \addplot[style={orange,fill=orange,mark=none}]
            coordinates {(jsp, 2.371)};
        \addplot[style={black,fill=black,mark=none}]
            coordinates {(jtwig, 2.375)};
        \addplot[style={magenta,fill=magenta,mark=none}]
            coordinates {(freemarker, 2.407)};
        \addplot[style={red,fill=red,mark=none}]
            coordinates {(thymeleaf, 2.750)};
        \addplot[style={violet,fill=violet,mark=none}]
            coordinates {(handlebars, 2.891)};
        \addplot[style={violet,fill=violet,mark=none}]
            coordinates {(dummy1, 0)};
        \addplot[style={violet,fill=violet,mark=none}]
            coordinates {(dummy2, 0)};
        \addplot[style={violet,fill=violet,mark=none}]
            coordinates {(dummy3, 0)};
        \addplot[style={violet,fill=violet,mark=none}]
            coordinates {(dummy1, 0)};
        \addplot[style={violet,fill=violet,mark=none}]
            coordinates {(dummy2, 0)};
        \addplot[style={violet,fill=violet,mark=none}]
            coordinates {(dummy3, 0)};
        \legend{htmlApi, jade, mustache, pebble, velocity, chunk, jsp, jtwig, freemarker, thymeleaf, handlebars}
    \end{axis}
\end{tikzpicture}
\caption{Benchmark: Spring Benchmark with 10.000 requests issued with 10 threads}
\label{fig:graphbench10table}
\end{figure}

30.000 requests using 10 threads with a Spring overhead of 3.285 seconds:

\begin{figure}[H]
\centering
\captionsetup{justification=centering}
\begin{tikzpicture}
    \begin{axis}[
        width  = 1*\textwidth,
        height = 8cm,
        major x tick style = transparent,
        ybar=1*\pgflinewidth,
        bar width=10pt,
        ymajorgrids = true,
        ylabel = {Response time in s},
		symbolic x coords={htmlApi,jade,mustache,pebble,velocity,chunk,jsp,jtwig,freemarker,thymeleaf,handlebars, dummy1, dummy2, dummy3},
        %xtick = data,
        xticklabels = {},
        scaled y ticks = false,
        enlarge x limits=0.8,
        ymin=2,
        ymax=9,
        legend cell align=left,]
                
        \addplot[style={blue,fill=blue,mark=none}]
            coordinates {(htmlApi, 4.450)};
        \addplot[style={olive,fill=olive,mark=none}]
            coordinates {(jade, 5.262)};
        \addplot[style={green,fill=green,mark=none}]
            coordinates {(mustache, 6.153)};
        \addplot[style={gray,fill=gray,mark=none}]
            coordinates {(pebble, 6.465)};
        \addplot[style={brown,fill=brown,mark=none}]
            coordinates {(velocity, 6.497)};
        \addplot[style={yellow,fill=yellow,mark=none}]
            coordinates {(chunk, 6.637)};
        \addplot[style={orange,fill=orange,mark=none}]
            coordinates {(jsp, 6.653)};
        \addplot[style={black,fill=black,mark=none}]
            coordinates {(jtwig, 6.887)};
        \addplot[style={magenta,fill=magenta,mark=none}]
            coordinates {(freemarker, 6.887)};
        \addplot[style={red,fill=red,mark=none}]
            coordinates {(thymeleaf, 7.966)};
        \addplot[style={violet,fill=violet,mark=none}]
            coordinates {(handlebars, 8.559)};
        \addplot[style={violet,fill=violet,mark=none}]
            coordinates {(dummy1, 0)};
        \addplot[style={violet,fill=violet,mark=none}]
            coordinates {(dummy2, 0)};
        \addplot[style={violet,fill=violet,mark=none}]
            coordinates {(dummy3, 0)};
        \addplot[style={violet,fill=violet,mark=none}]
            coordinates {(dummy1, 0)};
        \addplot[style={violet,fill=violet,mark=none}]
            coordinates {(dummy2, 0)};
        \addplot[style={violet,fill=violet,mark=none}]
            coordinates {(dummy3, 0)};
        \legend{htmlApi, jade, mustache, pebble, velocity, chunk, jsp, jtwig, freemarker, thymeleaf, handlebars}
    \end{axis}
\end{tikzpicture}
\caption{Benchmark: Spring Benchmark with 30.000 requests issued with 10 threads}
\label{fig:graphbench10table}
\end{figure}

\newpage

30.000 requests using 25 threads with a Spring overhead of 3.787 seconds:

\begin{figure}[H]
\centering
\captionsetup{justification=centering}
\begin{tikzpicture}
    \begin{axis}[
        width  = 1*\textwidth,
        height = 8cm,
        major x tick style = transparent,
        ybar=1*\pgflinewidth,
        bar width=10pt,
        ymajorgrids = true,
        ylabel = {Response time in s},
		symbolic x coords={htmlApi,jade,mustache,pebble,velocity,chunk,jsp,jtwig,freemarker,thymeleaf,handlebars, dummy1, dummy2, dummy3},
        %xtick = data,
        xticklabels = {},
        scaled y ticks = false,
        enlarge x limits=0.8,
        ymin=2,
        ymax=9,
        legend cell align=left,]
                
        \addplot[style={blue,fill=blue,mark=none}]
            coordinates {(htmlApi, 4.151)};
        \addplot[style={olive,fill=olive,mark=none}]
            coordinates {(jade, 4.557)};
        \addplot[style={green,fill=green,mark=none}]
            coordinates {(mustache, 5.448)};
        \addplot[style={gray,fill=gray,mark=none}]
            coordinates {(pebble, 5.588)};
        \addplot[style={brown,fill=brown,mark=none}]
            coordinates {(velocity, 5.672)};
        \addplot[style={yellow,fill=yellow,mark=none}]
            coordinates {(chunk, 5.698)};
        \addplot[style={orange,fill=orange,mark=none}]
            coordinates {(jsp, 6.042)};
        \addplot[style={black,fill=black,mark=none}]
            coordinates {(jtwig, 6.135)};
        \addplot[style={magenta,fill=magenta,mark=none}]
            coordinates {(freemarker, 6.307)};
        \addplot[style={red,fill=red,mark=none}]
            coordinates {(thymeleaf, 7.401)};
        \addplot[style={violet,fill=violet,mark=none}]
            coordinates {(handlebars, 8.323)};
        \addplot[style={violet,fill=violet,mark=none}]
            coordinates {(dummy1, 0)};
        \addplot[style={violet,fill=violet,mark=none}]
            coordinates {(dummy2, 0)};
        \addplot[style={violet,fill=violet,mark=none}]
            coordinates {(dummy3, 0)};
        \addplot[style={violet,fill=violet,mark=none}]
            coordinates {(dummy1, 0)};
        \addplot[style={violet,fill=violet,mark=none}]
            coordinates {(dummy2, 0)};
        \addplot[style={violet,fill=violet,mark=none}]
            coordinates {(dummy3, 0)};
        \legend{htmlApi, jade, mustache, pebble, velocity, chunk, jsp, jtwig, freemarker, thymeleaf, handlebars}
    \end{axis}
\end{tikzpicture}
\caption{Benchmark: Spring Benchmark with 30.000 requests issued with 25 threads}
\label{fig:graphbench10table}
\end{figure}

100.000 requests using 10 threads with a Spring overhead of 9.890 seconds:

\begin{figure}[H]
\centering
\captionsetup{justification=centering}
\begin{tikzpicture}
    \begin{axis}[
        width  = 1*\textwidth,
        height = 8cm,
        major x tick style = transparent,
        ybar=1*\pgflinewidth,
        bar width=10pt,
        ymajorgrids = true,
        ylabel = {Response time in s},
		symbolic x coords={htmlApi,jade,mustache,pebble,velocity,chunk,jsp,jtwig,freemarker,thymeleaf,handlebars, dummy1, dummy2, dummy3},
        %xtick = data,
        xticklabels = {},
        scaled y ticks = false,
        enlarge x limits=0.8,
        ymin=10,
        ymax=30,
        legend cell align=left,]
                
        \addplot[style={blue,fill=blue,mark=none}]
            coordinates {(htmlApi, 15.049)};
        \addplot[style={olive,fill=olive,mark=none}]
            coordinates {(jade, 19.111)};
        \addplot[style={green,fill=green,mark=none}]
            coordinates {(mustache, 21.783)};
        \addplot[style={gray,fill=gray,mark=none}]
            coordinates {(pebble, 22.377)};
        \addplot[style={brown,fill=brown,mark=none}]
            coordinates {(velocity, 22.763)};
        \addplot[style={yellow,fill=yellow,mark=none}]
            coordinates {(chunk, 22.924)};
        \addplot[style={orange,fill=orange,mark=none}]
            coordinates {(jsp, 22.987)};
        \addplot[style={black,fill=black,mark=none}]
            coordinates {(jtwig, 23.862)};
        \addplot[style={magenta,fill=magenta,mark=none}]
            coordinates {(freemarker, 24.916)};
        \addplot[style={red,fill=red,mark=none}]
            coordinates {(thymeleaf, 28.956)};
        \addplot[style={violet,fill=violet,mark=none}]
            coordinates {(handlebars, 29.034)};
        \addplot[style={violet,fill=violet,mark=none}]
            coordinates {(dummy1, 0)};
        \addplot[style={violet,fill=violet,mark=none}]
            coordinates {(dummy2, 0)};
        \addplot[style={violet,fill=violet,mark=none}]
            coordinates {(dummy3, 0)};
        \addplot[style={violet,fill=violet,mark=none}]
            coordinates {(dummy1, 0)};
        \addplot[style={violet,fill=violet,mark=none}]
            coordinates {(dummy2, 0)};
        \addplot[style={violet,fill=violet,mark=none}]
            coordinates {(dummy3, 0)};
        \legend{htmlApi, jade, mustache, pebble, velocity, chunk, jsp, jtwig, freemarker, thymeleaf, handlebars}
    \end{axis}
\end{tikzpicture}
\caption{Benchmark: Spring Benchmark with 100.000 requests issued with 10 threads}
\label{fig:graphbench10table}
\end{figure}

\noindent
As the results show, HtmlApi outperforms all the template engines in the examples presented with the gap in performance increasing as the number of elements grows. With the two examples presented with 30.000 requests we can observe that the results are approximately the same, even though the concurrent request count increased from 10 to 25, with some template engines performing a bit better and other a bit worse, which may be due to invariable execution variations.

% 10k requests - 10 concurrence
% 
% htmlApi    - 2.578 seconds
% jade       - 2.750 seconds
% mustache   - 3.189 seconds
% pebble     - 3.266 seconds
% velocity   - 3.297 seconds
% chunk      - 3.313 seconds
% jsp        - 3.402 seconds
% jtwig      - 3.406 seconds
% freemarker - 3.438 seconds
% thymeleaf  - 3.781 seconds
% handlebars - 3.922 seconds
% 
% 30k requests - 10 concurrence
% 
% htmlApi    - 7.735 seconds
% jade       - 8.547 seconds
% mustache   - 9.438 seconds
% pebble     - 9.750 seconds
% freemarker - 9.782 seconds
% velocity   - 9.922 seconds
% chunk      - 9.938 seconds
% jsp        - 10.172 seconds
% jtwig      - 10.172 seconds
% thymeleaf  - 11.251 seconds
% handlebars - 11.844 seconds
% 
% 30k requests - 25 concurrence
% 
% htmlApi    - 7.938 seconds
% jade       - 8.344 seconds
% mustache   - 9.235 seconds
% pebble     - 9.375 seconds
% freemarker - 9.459 seconds
% velocity   - 9.485 seconds
% chunk      - 9.829 seconds
% jsp        - 9.922 seconds
% jtwig      - 10.094 seconds
% thymeleaf  - 11.188 seconds
% handlebars - 12.110 seconds
% 
% 
% 100k requests - 10 concurrence
% 
% htmlApi    - 24.939 seconds
% jade       - 29.001 seconds
% mustache   - 31.673 seconds
% pebble     - 32.267 seconds
% freemarker - 32.653 seconds
% chunk      - 32.814 seconds
% velocity   - 32.877 seconds
% jtwig      - 33.752 seconds
% jsp        - 34.806 seconds
% thymeleaf  - 38.846 seconds
% handlebars - 38.924 seconds

